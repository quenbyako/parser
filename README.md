




пусть грамматика
```ebnf
S -> AB | BC
A -> BA | a
B -> CC | b
C -> AB | a
```

предположим что (ПОКА ЧТО!) мы можем записать только один терминал в ячейку (что на самом деле не так, пример слово "стали")

предложение у нас будет `b a a b a` просто что бы понять логику

шаг первый: запишем терминал в список


|   | b0 |
|---|----|
| 0 |    |
| 1 |    |
| 2 |    |
| 3 |    |
| 4 |    |

Шаг второй — обработаем все элементы которые появилис в новой колонке:


когда мы преобразовывали грамматику, у нас была мапа из простых идентификаторов,
которые обозначали комплексные идентификаторы. это единственные правила
нетерминал->терминал которые наша грамматика хранит

то есть реальная грамматика это:
```ebnf
S -> AB | BC
G -> AC
A -> BA
B -> CC
C -> AB

a -[converts]-> A + С
b -[converts]-> B
```

назовем эту мапу "конвертер терминалов" в нашем примере

Алгоритм такой:

1. берем индекс колонки которую мы хотим обработать (назовем ее `i`) и начинаем
   с `xy = {i,i}`
1. конвертируем единственный терминал во все возможные нетерминалы с помощью
   конвертера, у нас это болучается только B

   |   | b0 |
   |---|----|
   | 0 | B  |
   | 1 |    |
   | 2 |    |
   | 3 |    |
   | 4 |    |

1. Далее поднимаемся на строку выше, но поскольку у нас индекс отрицательный
   (`{0,-1}`), то останавливаемся

1. Идем дальше, нам нужно добавить новый терминал в табличку

   |   | b0 | a1 |   |   |   |
   |---|----|----|---|---|---|
   | 0 | B  |    |   |   |   |
   | 1 |    |    |   |   |   |
   | 2 |    |    |   |   |   |
   | 3 |    |    |   |   |   |
   | 4 |    |    |   |   |   |

1. Пройдемся по конвертеру терминалов, оказывается что можем записать А и С в
   одну ячейку с индексом `{1,1}`! Так и сделаем

   |   | b0 | a1  |   |   |   |
   |---|----|-----|---|---|---|
   | 0 | B  |     |   |   |   |
   | 1 |    | A C |   |   |   |
   | 2 |    |     |   |   |   |
   | 3 |    |     |   |   |   |
   | 4 |    |     |   |   |   |

1. Как и в прошлый раз, поднимаемся на строчку выше, на `{1,0}`, сейчас за
   границы мы не выходим

   теперь мы перебираем все нетериминалы, какие могут здесь собраться, мы нашли
   тут `BA` и `BC` 